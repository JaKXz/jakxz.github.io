<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<meta http-equiv="content-security-policy" content=""><title>Manage node versions with brew</title><meta data-key="description" name="description" content="Use homebrew to simply manage your local node installations" data-svelte="svelte-xxigpn"><meta property="og:type" content="article" data-svelte="svelte-xxigpn"><meta property="og:title" content="Manage node versions with brew" data-svelte="svelte-xxigpn"><meta property="og:description" content="Use homebrew to simply manage your local node installations" data-svelte="svelte-xxigpn"><meta property="og:image:width" content="16" data-svelte="svelte-xxigpn"><meta property="og:image:height" content="9" data-svelte="svelte-xxigpn"><meta name="twitter:title" content="Manage node versions with brew" data-svelte="svelte-xxigpn"><meta name="twitter:description" content="Use homebrew to simply manage your local node installations" data-svelte="svelte-xxigpn">
	<link href="../_app/immutable/assets/_layout-6e244528.css" rel="stylesheet">
	<link href="../_app/immutable/assets/_page-66358bc8.css" rel="stylesheet">
	<link rel="modulepreload" href="../_app/immutable/start-beec0f33.js">
	<link rel="modulepreload" href="../_app/immutable/chunks/control-76a11f69.js">
	<link rel="modulepreload" href="../_app/immutable/chunks/index-b5c5eaf4.js">
	<link rel="modulepreload" href="../_app/immutable/chunks/singletons-25107f9a.js">
	<link rel="modulepreload" href="../_app/immutable/components/pages/_layout.svelte-818653e1.js">
	<link rel="modulepreload" href="../_app/immutable/chunks/config-406b140a.js">
	<link rel="modulepreload" href="../_app/immutable/modules/pages/_layout.js-b1522e0a.js">
	<link rel="modulepreload" href="../_app/immutable/chunks/_layout-45c50cc3.js">
	<link rel="modulepreload" href="../_app/immutable/components/pages/blog/_post_/_page.svelte-6c33d6d3.js">
		<!-- You can replace this block to update the Google fonts used in the project -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,400;0,800;1,400;1,800&display=swap"
			rel="stylesheet"
		/>
		<!-- End Google Fonts block -->

		<!-- You can add global <meta> tags here, but anything not global or dynamic should be a `<svelte:head>` tag on the proper page(s) instead. -->
	</head>
	<body>
		<div id="svelte">






<div class="layout"><header><a class="skip-to-content-link" href="#main">Skip to main content
	</a>

	<a href="/" class="site-title">Jason Kurian</a>

	<button aria-pressed="false" class="menu-button" tabindex="0"><span class="sr-only">Toggle hamburger menu</span>
	<svg viewBox="0 0 128 128" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><rect x="0" y="12.48" width="128" height="18.688"></rect></g><g><rect x="0" y="96.832" width="128" height="18.688"></rect></g><g><rect x="0" y="54.656" width="128" height="18.688"></rect></g></svg></button>
	
<nav class="main-nav"><ul><li><a href="/blog" aria-current="page" class="active">Blog
			</a></li><li><a href="/resume" aria-current="false">Resumé
			</a></li></ul>
	<button aria-pressed="false" class="menu-button" tabindex="-1"><span class="sr-only">Toggle hamburger menu</span>
	<svg viewBox="0 0 128 128" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M64,48.496l-48.496,-48.496l-15.504,15.504l48.496,48.496l-48.496,48.496l15.504,15.504l48.496,-48.496l48.496,48.496l15.504,-15.504l-48.496,-48.496l48.496,-48.496l-15.504,-15.504l-48.496,48.496Z"></path></svg></button></nav></header>
	<main id="main" tabindex="-1" class="/blog/manage-node-versions-with-brew">




<article class="post svelte-1xmj924"><figure class="cover-image svelte-1xmj924"><img src="/images/bean-bros-Jaa3KDv9xi4-unsplash.jpeg" alt="person pouring coffee on coffee" style="aspect-ratio: 16 / 9;" width="16" height="9">
		<figcaption class="svelte-1xmj924">Photo by
				<a target="_blank" rel="noopener noreferrer nofollow" href="https://unsplash.com/es/@beanbros?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Bean Bros</a>
				on
				<a target="_blank" rel="noopener noreferrer nofollow" href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></figcaption></figure>
	<h1 class="svelte-1xmj924">Manage node versions with brew</h1>

	<div class="meta svelte-1xmj924"><b>Published:</b>
		2019-10-24
		<br>
		<b>Updated:</b>
		2022-04-04</div>

	<!-- HTML_TAG_START --><h2 id="tldr"><a aria-hidden="true" tabindex="-1" href="#tldr"><span class="icon icon-link"></span></a>TL;DR</h2>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">brew <span class="token function">install</span> <span class="token function">node</span> node@14 node@16 <span class="token comment"># latest, and all LTS versions at time of writing</span>

brew info node@14 <span class="token comment"># gets the $PATH variable you'll need to use node v14. You will only need the following line:</span>

<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/usr/local/opt/node@14/bin:<span class="token environment constant">$PATH</span>"</span> <span class="token comment"># Tada! In this shell session only, node v14 is the executable that will be used first!</span></code><!-- HTML_TAG_END --></pre>
<hr>
<p>If you’re like me, you like to keep your system’s package versions up to date with the latest features and security patches as vigilantly as possible.
So if you’ve had to work with multiple node versions on one development machine, you may have had a hard time keeping both these worlds in sync.
Today I learned/pieced together a way to keep myself sane after dealing with node/npm permission issues for the last time.
This also has only been possible relatively recently (at time of writing) since <code>node@X</code> versions have only been recently published as <strong>keg-only</strong> formulae on <code>brew</code> (keg-only is important).</p>
<p>I have worked with <a href="https://github.com/creationix/nvm" rel="nofollow"><code>nvm</code></a> and <a href="https://npm.im/n" rel="nofollow"><code>n</code></a> and I don’t want to disparage either because they do work, and even work well at scale, but both have their flaws IMHO.
Since <code>brew</code> manages all my packages for me, why not keep using it?</p>
<h2 id="what-is-a-keg-only-formula"><a aria-hidden="true" tabindex="-1" href="#what-is-a-keg-only-formula"><span class="icon icon-link"></span></a>What is a <code>keg-only</code> formula?</h2>
<p>From <a href="https://docs.brew.sh/FAQ#what-does-keg-only-mean" rel="nofollow">brew.sh</a>:</p>
<blockquote><p>It means the formula is installed only into the Cellar; it is not linked into <code>/usr/local</code>. This means most tools will not find it. We don’t do this for stupid reasons. You can still link in the formula if you need to with <code>brew link</code>.</p></blockquote>
<p>Essentially this means that you can have as many versions of node installed on your computer without them conflicting with each other, and as a bonus, your <code>npm</code> installation!
Tangentially (from my experience), this is another problem that has been solved relatively recently, since <code>npm@latest</code> has become much more stable across versions of node.</p>
<div class="callout svelte-1jzbz0k">Now, run the commands at the top of this article and you should be good to go!
Remember you will need to <code>export</code> your <code>$PATH</code> variable in every shell session you want to use a different version of node from the default version.

</div>
<p>If you want to set a different version of node as your default system version:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">brew info node@16 <span class="token comment"># for example</span>

<span class="token comment"># put this export at the top of your bashrc, zshrc, or other terminal config to get the default version you want</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export PATH="/usr/local/opt/node@16/bin:$PATH"'</span> <span class="token operator">>></span> ~/.zshrc</code><!-- HTML_TAG_END --></pre>
<hr>
<p>Originally published here: <a href="https://jakxz.svbtle.com/manage-node-versions-with-brew" rel="nofollow">https://jakxz.svbtle.com/manage-node-versions-with-brew</a></p><!-- HTML_TAG_END -->

	<aside class="post-footer svelte-1xmj924"><h2>Posted in:</h2>
			<ul class="svelte-1xmj924"><li class="svelte-1xmj924"><a href="/blog/category/macos/" class="svelte-1xmj924">macos</a>
					</li><li class="svelte-1xmj924"><a href="/blog/category/homebrew/" class="svelte-1xmj924">homebrew</a>
					</li><li class="svelte-1xmj924"><a href="/blog/category/nodejs/" class="svelte-1xmj924">nodejs</a>
					</li></ul></aside>
</article></main>
	<footer>
<nav class="main-nav"><ul><li><a href="/blog" aria-current="page" class="active">Blog
			</a></li><li><a href="/resume" aria-current="false">Resumé
			</a></li></ul>
	<button aria-pressed="false" class="menu-button" tabindex="-1"><span class="sr-only">Toggle hamburger menu</span>
	<svg viewBox="0 0 128 128" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M64,48.496l-48.496,-48.496l-15.504,15.504l48.496,48.496l-48.496,48.496l15.504,15.504l48.496,-48.496l48.496,48.496l15.504,-15.504l-48.496,-48.496l48.496,-48.496l-15.504,-15.504l-48.496,48.496Z"></path></svg></button></nav>

	<nav><ul><li><a href="/api/rss.xml" rel="external">RSS</a></li>
			<li><a href="/">Home</a></li></ul></nav>

	<div><p>©2022 Jason Kurian</p>
		<p>See a typo?
				<em><a target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/jakxz/jakxz.github.io/edit/develop/src/lib/posts/manage-node-versions-with-brew.md">Please open a PR here.</a></em>
				Thank you!
			</p></div></footer></div>


		<script type="module" data-sveltekit-hydrate="iseynw">
		import { start } from "../_app/immutable/start-beec0f33.js";

		start({
			env: {},
			hydrate: {
				status: 200,
				error: null,
				node_ids: [0, 4],
				params: {post:"manage-node-versions-with-brew"},
				routeId: "blog/[post]",
				data: (function(a){return [null,{type:"data",data:{PostContent:"\u003Ch2 id=\"tldr\"\u003E\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#tldr\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETL;DR\u003C\u002Fh2\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-bash\"\u003Ebrew \u003Cspan class=\"token function\"\u003Einstall\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Enode\u003C\u002Fspan\u003E node@14 node@16 \u003Cspan class=\"token comment\"\u003E# latest, and all LTS versions at time of writing\u003C\u002Fspan\u003E\n\nbrew info node@14 \u003Cspan class=\"token comment\"\u003E# gets the $PATH variable you'll need to use node v14. You will only need the following line:\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token builtin class-name\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token assign-left variable\"\u003E\u003Cspan class=\"token environment constant\"\u003EPATH\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"\u002Fusr\u002Flocal\u002Fopt\u002Fnode@14\u002Fbin:\u003Cspan class=\"token environment constant\"\u003E$PATH\u003C\u002Fspan\u003E\"\u003C\u002Fspan\u003E \u003Cspan class=\"token comment\"\u003E# Tada! In this shell session only, node v14 is the executable that will be used first!\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Cp\u003EIf you’re like me, you like to keep your system’s package versions up to date with the latest features and security patches as vigilantly as possible.\nSo if you’ve had to work with multiple node versions on one development machine, you may have had a hard time keeping both these worlds in sync.\nToday I learned\u002Fpieced together a way to keep myself sane after dealing with node\u002Fnpm permission issues for the last time.\nThis also has only been possible relatively recently (at time of writing) since \u003Ccode\u003Enode@X\u003C\u002Fcode\u003E versions have only been recently published as \u003Cstrong\u003Ekeg-only\u003C\u002Fstrong\u003E formulae on \u003Ccode\u003Ebrew\u003C\u002Fcode\u003E (keg-only is important).\u003C\u002Fp\u003E\n\u003Cp\u003EI have worked with \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcreationix\u002Fnvm\" rel=\"nofollow\"\u003E\u003Ccode\u003Envm\u003C\u002Fcode\u003E\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fnpm.im\u002Fn\" rel=\"nofollow\"\u003E\u003Ccode\u003En\u003C\u002Fcode\u003E\u003C\u002Fa\u003E and I don’t want to disparage either because they do work, and even work well at scale, but both have their flaws IMHO.\nSince \u003Ccode\u003Ebrew\u003C\u002Fcode\u003E manages all my packages for me, why not keep using it?\u003C\u002Fp\u003E\n\u003Ch2 id=\"what-is-a-keg-only-formula\"\u003E\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#what-is-a-keg-only-formula\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWhat is a \u003Ccode\u003Ekeg-only\u003C\u002Fcode\u003E formula?\u003C\u002Fh2\u003E\n\u003Cp\u003EFrom \u003Ca href=\"https:\u002F\u002Fdocs.brew.sh\u002FFAQ#what-does-keg-only-mean\" rel=\"nofollow\"\u003Ebrew.sh\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\u003Cp\u003EIt means the formula is installed only into the Cellar; it is not linked into \u003Ccode\u003E\u002Fusr\u002Flocal\u003C\u002Fcode\u003E. This means most tools will not find it. We don’t do this for stupid reasons. You can still link in the formula if you need to with \u003Ccode\u003Ebrew link\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\n\u003Cp\u003EEssentially this means that you can have as many versions of node installed on your computer without them conflicting with each other, and as a bonus, your \u003Ccode\u003Enpm\u003C\u002Fcode\u003E installation!\nTangentially (from my experience), this is another problem that has been solved relatively recently, since \u003Ccode\u003Enpm@latest\u003C\u002Fcode\u003E has become much more stable across versions of node.\u003C\u002Fp\u003E\n\u003Cdiv class=\"callout svelte-1jzbz0k\"\u003ENow, run the commands at the top of this article and you should be good to go!\nRemember you will need to \u003Ccode\u003Eexport\u003C\u002Fcode\u003E your \u003Ccode\u003E$PATH\u003C\u002Fcode\u003E variable in every shell session you want to use a different version of node from the default version.\n\n\u003C\u002Fdiv\u003E\n\u003Cp\u003EIf you want to set a different version of node as your default system version:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-bash\"\u003Ebrew info node@16 \u003Cspan class=\"token comment\"\u003E# for example\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token comment\"\u003E# put this export at the top of your bashrc, zshrc, or other terminal config to get the default version you want\u003C\u002Fspan\u003E\n\u003Cspan class=\"token builtin class-name\"\u003Eecho\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'export PATH=\"\u002Fusr\u002Flocal\u002Fopt\u002Fnode@16\u002Fbin:$PATH\"'\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E\u003E\u003E\u003C\u002Fspan\u003E ~\u002F.zshrc\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Chr\u003E\n\u003Cp\u003EOriginally published here: \u003Ca href=\"https:\u002F\u002Fjakxz.svbtle.com\u002Fmanage-node-versions-with-brew\" rel=\"nofollow\"\u003Ehttps:\u002F\u002Fjakxz.svbtle.com\u002Fmanage-node-versions-with-brew\u003C\u002Fa\u003E\u003C\u002Fp\u003E",meta:{title:"Manage node versions with brew",date:"2019-10-24",updated:"2022-04-04",categories:["macos","homebrew","nodejs"],coverImage:"\u002Fimages\u002Fbean-bros-Jaa3KDv9xi4-unsplash.jpeg",coverWidth:16,coverHeight:9,excerpt:"Use homebrew to simply manage your local node installations",slug:"manage-node-versions-with-brew",coverCaption:{author:"Bean Bros",authorUrl:"https:\u002F\u002Funsplash.com\u002Fes\u002F@beanbros"},imageAlt:"person pouring coffee on coffee"}},uses:{dependencies:a,params:["post"],parent:a,url:a}}]}(void 0)),
				form: null
			},
			paths: {"base":"","assets":""},
			target: document.querySelector('[data-sveltekit-hydrate="iseynw"]').parentNode,
			trailing_slash: "never"
		});
	</script>
	</div>
	</body>
</html>
