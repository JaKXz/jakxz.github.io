import{S as G,i as L,s as R,k as B,e as v,t as d,l as C,W as T,d as u,m as S,c as E,a as w,h as k,g as h,H as y,j as D,o as j,p as U,q,n as W,b as z,E as O,w as $,x as H,y as N,B as A}from"../../../../chunks/index-effebd35.js";import{f as F}from"../../../../chunks/fetchPosts-6cbb4fc1.js";import{P as I,a as J}from"../../../../chunks/Pagination-5606d8e3.js";import"../../../../chunks/preload-helper-60cab3ee.js";import"../../../../chunks/config-a2729e86.js";function K(c){let e,n,s,f,t,a,r,l,m,g;return{c(){e=v("p"),n=v("strong"),s=d("Ope!"),f=d(` Sorry, couldn't find any posts in the category "`),t=d(c[1]),a=d('".'),r=B(),l=v("p"),m=v("a"),g=d("Back to blog"),this.h()},l(p){e=E(p,"P",{});var i=w(e);n=E(i,"STRONG",{});var P=w(n);s=k(P,"Ope!"),P.forEach(u),f=k(i,` Sorry, couldn't find any posts in the category "`),t=k(i,c[1]),a=k(i,'".'),i.forEach(u),r=S(p),l=E(p,"P",{});var o=w(l);m=E(o,"A",{href:!0});var _=w(m);g=k(_,"Back to blog"),_.forEach(u),o.forEach(u),this.h()},h(){z(m,"href","/blog")},m(p,i){h(p,e,i),y(e,n),y(n,s),y(e,f),y(e,t),y(e,a),h(p,r,i),h(p,l,i),y(l,m),y(m,g)},p(p,i){i&2&&D(t,p[1])},i:O,o:O,d(p){p&&u(e),p&&u(r),p&&u(l)}}}function M(c){let e,n,s,f;return e=new I({props:{posts:c[0]}}),s=new J({props:{currentPage:"1",totalPosts:c[2],path:"/blog/category/"+c[1]+"/page"}}),{c(){$(e.$$.fragment),n=B(),$(s.$$.fragment)},l(t){H(e.$$.fragment,t),n=S(t),H(s.$$.fragment,t)},m(t,a){N(e,t,a),h(t,n,a),N(s,t,a),f=!0},p(t,a){const r={};a&1&&(r.posts=t[0]),e.$set(r);const l={};a&4&&(l.totalPosts=t[2]),a&2&&(l.path="/blog/category/"+t[1]+"/page"),s.$set(l)},i(t){f||(q(e.$$.fragment,t),q(s.$$.fragment,t),f=!0)},o(t){j(e.$$.fragment,t),j(s.$$.fragment,t),f=!1},d(t){A(e,t),t&&u(n),A(s,t)}}}function Q(c){let e,n,s,f,t,a,r,l,m,g;document.title=e="Category: "+c[1];const p=[M,K],i=[];function P(o,_){return o[0].length?0:1}return r=P(c),l=i[r]=p[r](c),{c(){n=B(),s=v("h1"),f=d("Blog category: "),t=d(c[1]),a=B(),l.c(),m=C()},l(o){T('[data-svelte="svelte-1ssoacn"]',document.head).forEach(u),n=S(o),s=E(o,"H1",{});var b=w(s);f=k(b,"Blog category: "),t=k(b,c[1]),b.forEach(u),a=S(o),l.l(o),m=C()},m(o,_){h(o,n,_),h(o,s,_),y(s,f),y(s,t),h(o,a,_),i[r].m(o,_),h(o,m,_),g=!0},p(o,[_]){(!g||_&2)&&e!==(e="Category: "+o[1])&&(document.title=e),(!g||_&2)&&D(t,o[1]);let b=r;r=P(o),r===b?i[r].p(o,_):(W(),j(i[b],1,1,()=>{i[b]=null}),U(),l=i[r],l?l.p(o,_):(l=i[r]=p[r](o),l.c()),q(l,1),l.m(m.parentNode,m))},i(o){g||(q(l),g=!0)},o(o){j(l),g=!1},d(o){o&&u(n),o&&u(s),o&&u(a),i[r].d(o),o&&u(m)}}}const et=async({params:c,fetch:e})=>{const n=c.category,s={category:n},{posts:f}=await F(s),t=await e(`/api/posts/category/${n}/count.json`),{total:a}=await t.json();return{props:{posts:f,category:n,total:a}}};function V(c,e,n){let{posts:s}=e,{category:f}=e,{total:t}=e;return c.$$set=a=>{"posts"in a&&n(0,s=a.posts),"category"in a&&n(1,f=a.category),"total"in a&&n(2,t=a.total)},[s,f,t]}class ot extends G{constructor(e){super(),L(this,e,V,Q,R,{posts:0,category:1,total:2})}}export{ot as default,et as load};
